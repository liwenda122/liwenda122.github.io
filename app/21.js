webpackJsonp([21],{3:function(e,t){"use strict";e.exports={post:function(e,t,a){var s=a.$http||this.$http,r=a.$message||this.$message,l=t?{requestData:JSON.stringify(t)}:null;return s({method:"POST",url:e,body:l,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&r({message:e.message,type:"warning"}),e})},postJSON:function(e,t,a){var s=a.$http||this.$http,r=a.$message||this.$message,l=t?t:null;return s({method:"POST",url:e,body:l,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&r({message:e.message,type:"warning"}),e})},export:function(e,t){var a=e;for(var s in t)a=a.indexOf("?")==-1?a+"?"+s+"="+t[s]:a+"&"+s+"="+t[s];window.location.href=a},message:function(){}}},6:function(e,t){"use strict";e.exports={materialAdd:"/pms/management/material/add.do",materialDelete:"/pms/management/material/delete.do",materialEdit:"/pms/management/material/edit.do",materialShow:"/pms/management/material/show.do",materialList:"/pms/management/material/list.do",materialUnitList:"/pms/management/materialUnit/list.do",materialTypeList:"/pms/management/materialType/list.do",materialUnitAndTypeList:"/pms/management/materialUnitAndType/list.do",materialSettleTypeList:"/pms/management/materialSettleType/list.do",materialUnitAdd:"/pms/management/materialUnit/add.do",materialUnitEdit:"/pms/management/materialUnit/edit.do",materialUnitShow:"/pms/management/materialUnit/show.do",materialUnitDelete:"/pms/management/materialUnit/delete.do",materialTypeAdd:"/pms/management/materialType/add.do",materialTypeDelete:"/pms/management/materialType/delete.do",materialTypeShow:"/pms/management/materialType/show.do",materialTypeEdit:"/pms/management/materialType/edit.do",supplierList:"/pms/management/supplier/list.do",supplierDelete:"/pms/management/supplier/delete.do",supplierEdit:"/pms/management/supplier/edit.do",supplierAdd:"/pms/management/supplier/add.do",supplierShow:"/pms/management/supplier/show.do",userList:"/pms/user/list.do",userDelete:"/pms/user/delete.do",userAddView:"/pms/user/addView.do",userEditView:"/pms/user/editView.do",userEdit:"/pms/user/edit.do",userAdd:"/pms/user/add.do",roleList:"/pms/role/list.do",roleDelete:"/pms/role/delete.do",roleAddView:"/pms/role/addView.do",roleEditView:"/pms/role/editView.do",roleEdit:"/pms/role/edit.do",roleAdd:"/pms/role/add.do",settleOrder:"/pms/report/settle/order.do",settleDetail:"/pms/report/settle/order/detail.do",settleType:"/pms/report/type/list.do",settleTypeDetail:"/pms/report/settle/type/list/detail.do",materialReport:"/pms/report/material/list.do",materialReportDetail:"/pms/report/material/list/detail.do",purchaseList:"/pms/report/purchase/list.do",purchaseListDetail:"/pms/report/purchase/list/detail.do",settlement:"/pms/report/settlement/list.do",settlementDetail:"/pms/report/settlement/list/detail.do"}},514:function(e,t,a){(function(e,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(7),i=a(1);r(i);t.default={data:function(){var e=[{path:"/",name:"首页"},{path:"",name:"报表"},{path:"/reports/settleOrder/settleOrderList",name:"结算单汇总"},{path:"/reports/settleOrder/settleOrderDetail",name:"结算单详情"}];return{crumbs:e,filter:"",purchaseNo:"",purchaseUserName:"",pmsSettlementAmountVo:{},detail:[]}},methods:{refresh:function(){var t={receiptId:this.$route.query.id};e.post(s.settleDetail,t,this).then(function(e){200==e.code&&(this.pmsSettlementAmountVo=e.result.pmsSettlementAmountVo,this.purchaseUserName=e.result.purchaseUserName,this.purchaseNo=e.result.purchaseNo,this.detail=e.result.pmsSettlementOrderReportDetailVos)})},handleExport:function(){e.export("/pms/report/settle/order/detail/export.do",{receiptId:this.$route.query.id})}},created:function(){this.refresh()},computed:(0,l.mapState)({user:function(e){return e.user}})}}).call(t,a(3),a(6))},585:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,".rowSpan span[data-v-89563c3e]{line-height:60px}.order-bar[data-v-89563c3e]{color:#99a9bf;font-size:18px;padding:14px 0}.order-bar .el-row[data-v-89563c3e]{line-height:32px}.order-bar .right[data-v-89563c3e]{font-size:14px}.total-bar[data-v-89563c3e]{font-size:14px;color:#475669}.total-bar .orange[data-v-89563c3e]{color:#f60;padding-left:3px}",""])},647:function(e,t,a){var s,r;a(754),s=a(514);var l=a(704);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=l.render,r.staticRenderFns=l.staticRenderFns,r._scopeId="data-v-89563c3e",e.exports=s},704:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-layout",{attrs:{crumbs:e.crumbs}},[a("div",{staticClass:"content",slot:"content"},[a("div",{staticClass:"table-content"},[a("div",{staticClass:"order-bar"},[a("el-row",{attrs:{justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content left"},[e._v("结算单详情")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content right"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("采购单号："+e._s(e.purchaseNo))]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("开单人："+e._s(e.purchaseUserName))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("结算时间："+e._s(e._f("moment")(this.$route.query.time)))]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("结算人："+e._s(this.$route.query.name))])],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"button-bar"},[a("el-button",{on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detail,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialName",label:"物料名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialTypeName",label:"类别","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialUnitName",label:"进货单位","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"purchasePrice",label:"采购均价","min-width":"80"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e._f("number")(e.row.purchasePrice)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{prop:"purchaseCount",label:"采购数量","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalFee",label:"合计金额","min-width":"80"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e._f("number")(e.row.totalFee)))])},staticRenderFns:[]}})],1),e._v(" "),a("div",{staticClass:"total-bar"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"start"}},[a("el-col",{staticClass:"rowSpan",attrs:{span:4}},[e._v("\n                         采购 "),a("span",{staticClass:"orange"},[e._v(e._s(e.pmsSettlementAmountVo.purchaseCount)+"项")])]),e._v(" "),a("el-col",{staticClass:"rowSpan",attrs:{span:4}},[e._v("\n                          总计："),a("span",{staticClass:"orange"},[e._v("¥"+e._s(e.pmsSettlementAmountVo.totalPayment))])]),e._v(" "),a("el-col",{staticClass:"rowSpan",attrs:{span:4}},[e._v("\n                            实付："),a("span",{staticClass:"orange"},[e._v("¥"+e._s(e.pmsSettlementAmountVo.payment))])])],1)],1)],1)])]),e._v(" "),a("transition",{on:{leave:e.refresh}},[a("router-view")],1)],1)},staticRenderFns:[]}},754:function(e,t,a){var s=a(585);"string"==typeof s&&(s=[[e.id,s,""]]);a(5)(s,{});s.locals&&(e.exports=s.locals)}});