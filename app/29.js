webpackJsonp([29],{3:function(t,e){"use strict";t.exports={post:function(t,e,a){var r=a.$http||this.$http,s=a.$message||this.$message,n=e?{requestData:JSON.stringify(e)}:null;return r({method:"POST",url:t,body:n,emulateJSON:!0}).then(function(t){return t.body}).then(function(t){return 200!=t.code&&s({message:t.message,type:"warning"}),t})},postJSON:function(t,e,a){var r=a.$http||this.$http,s=a.$message||this.$message,n=e?e:null;return r({method:"POST",url:t,body:n,emulateJSON:!0}).then(function(t){return t.body}).then(function(t){return 200!=t.code&&s({message:t.message,type:"warning"}),t})},export:function(t,e){var a=t;for(var r in e)a=a.indexOf("?")==-1?a+"?"+r+"="+e[r]:a+"&"+r+"="+e[r];window.location.href=a},message:function(){}}},501:function(t,e,a){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(7);e.default={data:function(){var t=[{path:"/",name:"首页"},{path:"/purchase",name:"开采购单"},{path:"/purchase/view/",name:"开单记录"}],e=[],a={},r="";return{crumbs:t,tableData:e,orderData:a,purchaseId:r}},methods:{handleBackToList:function(){this.$router.push({path:"/purchase"})},handleSubmitPO:function(){this.$router.push({path:"/purchase"})},handleExport:function(){t.export("/pms/purchase/order/show/export.do",{purchaseId:this.purchaseId})},handlePrint:function(){this.$router.push({name:"purchasePrint",params:{id:this.purchaseId}})},fetchData:function(){var t=this,e={purchaseId:this.purchaseId};this.$http({url:"/pms/purchase/order/show.do",method:"POST",body:{requestData:JSON.stringify(e)},emulateJSON:!0}).then(function(t){return t.body}).then(function(e){200==e.code?(t.tableData=e.result.pmsPurchaseVo.pmsPurchaseDetailVos,t.orderData.createUserName=e.result.pmsPurchaseVo.createUserName,t.orderData.purchaseNo=e.result.pmsPurchaseVo.purchaseNo,t.orderData.purchaseRemark=e.result.pmsPurchaseVo.purchaseRemark,t.orderData.createTime=e.result.pmsPurchaseVo.createTime):(t.tableData=[],t.$message({message:e.message,type:"warning"}))})}},created:function(){this.purchaseId=this.$route.params.id,this.fetchData()},computed:(0,r.mapState)({user:function(t){return t.user}})}}).call(e,a(3))},575:function(t,e,a){e=t.exports=a(4)(),e.push([t.id,".order-bar[data-v-628d987a]{color:#99a9bf;font-size:18px;padding:20px 0}.order-bar .right[data-v-628d987a]{font-size:14px}.submit-con[data-v-628d987a]{padding:20px 0;color:#475669}.submit-con .orange[data-v-628d987a]{color:#f60}.submit-con .left[data-v-628d987a],.submit-con .middle[data-v-628d987a]{line-height:36px;height:36px}.submit-con .middle[data-v-628d987a]{text-align:center}.submit-con .middle .tooltips[data-v-628d987a]{padding-left:10px}.submit-con .right[data-v-628d987a]{text-align:right}",""])},634:function(t,e,a){var r,s;a(744),r=a(501);var n=a(693);s=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(s=r=r.default),"function"==typeof s&&(s=s.options),s.render=n.render,s.staticRenderFns=n.staticRenderFns,s._scopeId="data-v-628d987a",t.exports=r},693:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("common-layout",{attrs:{crumbs:t.crumbs}},[a("div",{staticClass:"content",slot:"content"},[a("div",{staticClass:"table-content"},[a("div",{staticClass:"order-bar"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content left"},[t._v("开单记录")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content right"},[a("el-row",[a("el-col",{attrs:{span:12}},[t._v("采购单号："+t._s(t.orderData.purchaseNo))]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("开单时间："+t._s(t._f("moment")(t.orderData.createTime)))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[t._v("开单人："+t._s(t.orderData.createUserName))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[t._v("备注："+t._s(t.orderData.purchaseRemark))])],1)],1)])],1)],1),t._v(" "),a("div",{staticClass:"button-bar"},[a("el-button",{on:{click:t.handleExport}},[t._v("导出")]),t._v(" "),a("el-button",{on:{click:t.handlePrint}},[t._v("打印")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"380",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"materialName",label:"物料名称","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"materialTypeName",label:"物料类别","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"purchaseCount",label:"采购数量","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"materialUnitName",label:"进货单位","min-width":"120"}})],1),t._v(" "),a("div",{staticClass:"submit-con"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content left"},[t._v("\n\t\t\t\t\t\t\t\t数量："),a("span",{staticClass:"orange"},[t._v(t._s(t.tableData.length))]),t._v("项\n\t\t\t\t\t\t\t")])]),t._v(" "),a("el-col",{attrs:{span:8}}),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleBackToList}},[t._v("返回列表")])],1)])],1)],1)],1)])])],1)},staticRenderFns:[]}},744:function(t,e,a){var r=a(575);"string"==typeof r&&(r=[[t.id,r,""]]);a(5)(r,{});r.locals&&(t.exports=r.locals)}});