webpackJsonp([5],{18:function(e,t){"use strict";e.exports={post:function(e,t){return new Promise(function(t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="application/json",n.onload=function(){200===n.status?t(n.response):a(Error("request didn't load successfully; error code:"+n.statusText))},n.onerror=function(){a(Error("There was a network error."))},n.send()})}}},506:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(16);t.default={data:function(){var e=[{path:"/",name:"首页"},{path:"",name:"基础管理"},{path:"/settings/handleUser/index",name:"员工管理"}];return{crumbs:e,username:"",userList:[],pageData:{pageNo:1,pageSize:10,totalCount:0,totalPage:1}}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageData.pageSize=e,this.refresh()},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageData.pageNo=e,this.refresh()},addUser:function(){this.$router.push({path:"/settings/handleUser/add/index",query:{name:"add"}})},userInfo:function(e){this.$router.push({path:"/settings/handleUser/add/index",query:{name:"info",userId:e}})},onSubmit:function(){},deleteUser:function(t){var a=this;this.$confirm("确认删除该员工?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={userIdStr:t};e.postJSON(urls.userDelete,n,a).then(function(e){200==e.code?(a.$message({message:"删除成功",type:"success"}),a.refresh()):a.$message({message:e.message,type:"warning"})})},function(){})},refresh:function(){var t={username:this.username?this.username:"",pageNo:this.pageData.pageNo,pageSize:this.pageData.pageSize};e.postJSON(urls.userList,t,this).then(function(e){200==e.code&&(this.userList=e.result.userList,this.pageData.pageNo=e.result.pageNo,this.pageData.pageSize=e.result.pageSize,this.pageData.totalCount=e.result.totalCount,this.pageData.totalPage=e.result.totalPage)})}},created:function(){this.refresh()},computed:(0,n.mapState)({user:function(e){return e.user}})}}).call(t,a(18))},537:function(e,t,a){t=e.exports=a(8)(),t.push([e.id,"",""])},572:function(e,t,a){a(607);var n=a(12)(a(506),a(589),"data-v-afc9f9c2",null);e.exports=n.exports},589:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-layout",{attrs:{crumbs:e.crumbs}},[a("div",{staticClass:"content",slot:"content"},[a("div",{staticClass:"search-bar"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入姓名/账号/手机号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table-content"},[a("div",{staticClass:"button-bar"},[a("el-button",{attrs:{type:"orange"},on:{click:e.addUser}},[e._v("添加")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,height:"440",border:""}},[a("el-table-column",{attrs:{label:"序号",width:"70"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.$index+1+e.pageData.pageSize*(e.pageData.pageNo-1)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"员工账号","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userRealname",label:"员工姓名","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"员工岗位","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userPhone",label:"手机号码","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{context:e._self,label:"操作","min-width":"100"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.userInfo(e.row.userId)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.deleteUser(e.row.userId)}}},[e._v("删除")])],1)},staticRenderFns:[]}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageData.pageNo,"page-sizes":[10,20,30,40],"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),a("transition",{on:{leave:e.refresh}},[a("router-view")],1)],1)},staticRenderFns:[]}},607:function(e,t,a){var n=a(537);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);a(13)("7e5ff317",n,!0)}});