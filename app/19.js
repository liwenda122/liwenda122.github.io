webpackJsonp([19],{3:function(e,t){"use strict";e.exports={post:function(e,t,a){var n=a.$http||this.$http,r=a.$message||this.$message,i=t?{requestData:JSON.stringify(t)}:null;return n({method:"POST",url:e,body:i,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&r({message:e.message,type:"warning"}),e})},postJSON:function(e,t,a){var n=a.$http||this.$http,r=a.$message||this.$message,i=t?t:null;return n({method:"POST",url:e,body:i,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&r({message:e.message,type:"warning"}),e})},export:function(e,t){var a=e;for(var n in t)a=a.indexOf("?")==-1?a+"?"+n+"="+t[n]:a+"&"+n+"="+t[n];window.location.href=a},message:function(){}}},6:function(e,t){"use strict";e.exports={materialAdd:"/pms/management/material/add.do",materialDelete:"/pms/management/material/delete.do",materialEdit:"/pms/management/material/edit.do",materialShow:"/pms/management/material/show.do",materialList:"/pms/management/material/list.do",materialUnitList:"/pms/management/materialUnit/list.do",materialTypeList:"/pms/management/materialType/list.do",materialUnitAndTypeList:"/pms/management/materialUnitAndType/list.do",materialSettleTypeList:"/pms/management/materialSettleType/list.do",materialUnitAdd:"/pms/management/materialUnit/add.do",materialUnitEdit:"/pms/management/materialUnit/edit.do",materialUnitShow:"/pms/management/materialUnit/show.do",materialUnitDelete:"/pms/management/materialUnit/delete.do",materialTypeAdd:"/pms/management/materialType/add.do",materialTypeDelete:"/pms/management/materialType/delete.do",materialTypeShow:"/pms/management/materialType/show.do",materialTypeEdit:"/pms/management/materialType/edit.do",supplierList:"/pms/management/supplier/list.do",supplierDelete:"/pms/management/supplier/delete.do",supplierEdit:"/pms/management/supplier/edit.do",supplierAdd:"/pms/management/supplier/add.do",supplierShow:"/pms/management/supplier/show.do",userList:"/pms/user/list.do",userDelete:"/pms/user/delete.do",userAddView:"/pms/user/addView.do",userEditView:"/pms/user/editView.do",userEdit:"/pms/user/edit.do",userAdd:"/pms/user/add.do",roleList:"/pms/role/list.do",roleDelete:"/pms/role/delete.do",roleAddView:"/pms/role/addView.do",roleEditView:"/pms/role/editView.do",roleEdit:"/pms/role/edit.do",roleAdd:"/pms/role/add.do",settleOrder:"/pms/report/settle/order.do",settleDetail:"/pms/report/settle/order/detail.do",settleType:"/pms/report/type/list.do",settleTypeDetail:"/pms/report/settle/type/list/detail.do",materialReport:"/pms/report/material/list.do",materialReportDetail:"/pms/report/material/list/detail.do",purchaseList:"/pms/report/purchase/list.do",purchaseListDetail:"/pms/report/purchase/list/detail.do",settlement:"/pms/report/settlement/list.do",settlementDetail:"/pms/report/settlement/list/detail.do"}},516:function(e,t,a){(function(e,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(7),s=a(1);r(s);t.default={data:function(){var e=[{path:"/",name:"首页"},{path:"",name:"报表"},{path:"/reports/settleType/settleTypeList",name:"结算方式汇总"},{path:"/reports/settleType/settleTypeDetail",name:"结算方式详情"}];return{crumbs:e,formSearch:{date:[],status:"",purchaseno:""},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},filter:"",detail:[],totalAmount:0,pageData:{pageNo:1,pageSize:10,totalCount:0,totalPage:1},paymentType:""}},methods:{onSubmit:function(){this.refresh()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageData.pageSize=e,this.refresh()},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageData.pageNo=e,this.refresh()},refresh:function(){var t={pageNo:this.pageData.pageNo,pageSize:this.pageData.pageSize,filter:this.paymentType};e.post(n.settleTypeDetail,t,this).then(function(e){200==e.code&&(this.pageData.pageNo=e.result.pageNo,this.pageData.pageSize=e.result.pageSize,this.pageData.totalCount=e.result.totalCount,this.pageData.totalPage=e.result.totalPage,this.detail=e.result.pmsSettlementTypeReportDetailVos,this.totalAmount=e.result.totalAmount)})},handleExport:function(){e.export("/pms/report/pay/type/detail/export.do",{filter:encodeURIComponent(this.paymentType)})}},created:function(){this.paymentType=this.$route.query.id,this.refresh()},computed:(0,i.mapState)({user:function(e){return e.user}})}}).call(t,a(3),a(6))},580:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,".search-bar .title[data-v-6e73aff3]{font-size:14px;color:#475669;float:left;line-height:36px}.form-search[data-v-6e73aff3]{float:right}.rowSpan span[data-v-6e73aff3]{line-height:60px}.button-bar .el-button[data-v-6e73aff3]{float:right}.button-bar .el-row[data-v-6e73aff3]{float:left;line-height:36px}",""])},649:function(e,t,a){var n,r;a(749),n=a(516);var i=a(698);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._scopeId="data-v-6e73aff3",e.exports=n},698:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-layout",{attrs:{crumbs:e.crumbs}},[a("div",{staticClass:"content",slot:"content"},[a("div",{staticClass:"search-bar clearfix"},[a("div",{staticClass:"title"},[e._v(e._s(e.paymentType)+"支付的明细")]),e._v(" "),a("el-form",{staticClass:"form-search",attrs:{inline:!0,model:e.formSearch}},[a("el-form-item",{attrs:{label:"结算时间",labelWidth:"100px"}},[a("el-date-picker",{directives:[{name:"model",rawName:"v-model",value:e.formSearch.date,expression:"formSearch.date"}],staticStyle:{width:"220px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":e.pickerOptions},domProps:{value:e.formSearch.date},on:{input:function(t){e.formSearch.date=t}}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table-content"},[a("div",{staticClass:"button-bar"},[a("el-button",{on:{click:e.handleExport}},[e._v("导出")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("总计："),a("span",{staticClass:"orange"},[e._v("¥"+e._s(e._f("number")(e.totalAmount)))])])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detail,height:"442",border:""}},[a("el-table-column",{attrs:{label:"序号",width:"70"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.$index+1+e.pageData.pageSize*(e.pageData.pageNo-1)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{prop:"purchaseNo",label:"采购单号","min-width":"120"}}),e._v(" "),"现金"!=e.paymentType?a("el-table-column",{attrs:{prop:"supplierName",label:"供应商名称","min-width":"100"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"payment",label:"结算金额","min-width":"120"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e._f("number")(e.row.payment)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{label:"结算时间","min-width":"120"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e._f("moment")(e.row.settlementTime)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{prop:"settlementUserName",label:"结算人","min-width":"80"}}),e._v(" "),"现金"!=e.paymentType?a("el-table-column",{attrs:{label:"户名","min-width":"80"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(""!=e.row.settlementAccountName?e.row.settlementAccountName:"--"))])},staticRenderFns:[]}}):e._e(),e._v(" "),"现金"!=e.paymentType?a("el-table-column",{attrs:{label:"账号","min-width":"80"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(""!=e.row.settlementAccountNumber?e.row.settlementAccountNumber:"--"))])},staticRenderFns:[]}}):e._e(),e._v(" "),"现金"==e.paymentType?a("el-table-column",{attrs:{prop:"settlementReceiver",label:"结算对象","min-width":"100"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tag",{attrs:{type:0==e.row.settlementReceiver?"primary":"success","close-transition":""}},[e._v(e._s(0==e.row.settlementReceiver?"采购员":"供应商"))])},staticRenderFns:[]}}):e._e(),e._v(" "),"现金"==e.paymentType?a("el-table-column",{attrs:{prop:"receiverName",label:"收款人","min-width":"100"}}):e._e()],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageData.pageNo,"page-sizes":[10,20,30,40],"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),a("transition",{on:{leave:e.refresh}},[a("router-view")],1)],1)},staticRenderFns:[]}},749:function(e,t,a){var n=a(580);"string"==typeof n&&(n=[[e.id,n,""]]);a(5)(n,{});n.locals&&(e.exports=n.locals)}});