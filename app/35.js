webpackJsonp([35],{3:function(e,t){"use strict";e.exports={post:function(e,t,a){var i=a.$http||this.$http,n=a.$message||this.$message,r=t?{requestData:JSON.stringify(t)}:null;return i({method:"POST",url:e,body:r,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&n({message:e.message,type:"warning"}),e})},postJSON:function(e,t,a){var i=a.$http||this.$http,n=a.$message||this.$message,r=t?t:null;return i({method:"POST",url:e,body:r,emulateJSON:!0}).then(function(e){return e.body}).then(function(e){return 200!=e.code&&n({message:e.message,type:"warning"}),e})},export:function(e,t){var a=e;for(var i in t)a=a.indexOf("?")==-1?a+"?"+i+"="+t[i]:a+"&"+i+"="+t[i];window.location.href=a},message:function(){}}},6:function(e,t){"use strict";e.exports={materialAdd:"/pms/management/material/add.do",materialDelete:"/pms/management/material/delete.do",materialEdit:"/pms/management/material/edit.do",materialShow:"/pms/management/material/show.do",materialList:"/pms/management/material/list.do",materialUnitList:"/pms/management/materialUnit/list.do",materialTypeList:"/pms/management/materialType/list.do",materialUnitAndTypeList:"/pms/management/materialUnitAndType/list.do",materialSettleTypeList:"/pms/management/materialSettleType/list.do",materialUnitAdd:"/pms/management/materialUnit/add.do",materialUnitEdit:"/pms/management/materialUnit/edit.do",materialUnitShow:"/pms/management/materialUnit/show.do",materialUnitDelete:"/pms/management/materialUnit/delete.do",materialTypeAdd:"/pms/management/materialType/add.do",materialTypeDelete:"/pms/management/materialType/delete.do",materialTypeShow:"/pms/management/materialType/show.do",materialTypeEdit:"/pms/management/materialType/edit.do",supplierList:"/pms/management/supplier/list.do",supplierDelete:"/pms/management/supplier/delete.do",supplierEdit:"/pms/management/supplier/edit.do",supplierAdd:"/pms/management/supplier/add.do",supplierShow:"/pms/management/supplier/show.do",userList:"/pms/user/list.do",userDelete:"/pms/user/delete.do",userAddView:"/pms/user/addView.do",userEditView:"/pms/user/editView.do",userEdit:"/pms/user/edit.do",userAdd:"/pms/user/add.do",roleList:"/pms/role/list.do",roleDelete:"/pms/role/delete.do",roleAddView:"/pms/role/addView.do",roleEditView:"/pms/role/editView.do",roleEdit:"/pms/role/edit.do",roleAdd:"/pms/role/add.do",settleOrder:"/pms/report/settle/order.do",settleDetail:"/pms/report/settle/order/detail.do",settleType:"/pms/report/type/list.do",settleTypeDetail:"/pms/report/settle/type/list/detail.do",materialReport:"/pms/report/material/list.do",materialReportDetail:"/pms/report/material/list/detail.do",purchaseList:"/pms/report/purchase/list.do",purchaseListDetail:"/pms/report/purchase/list/detail.do",settlement:"/pms/report/settlement/list.do",settlementDetail:"/pms/report/settlement/list/detail.do"}},530:function(e,t,a){(function(e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7);t.default={data:function(){return{crumbs:[{path:"/",name:"首页"},{path:"",name:"基础管理"},{path:"/settings/handleUnit/index",name:"单位管理"}],filter:"",materielData:[],pageData:{pageNo:1,pageSize:10,totalCount:0,totalPage:1},multipleSelection:[]}},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageData.pageSize=e,this.refresh()},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageData.pageNo=e,this.refresh()},addMateriel:function(){this.$router.push({path:"/settings/handleUnit/add/index",query:{name:"add"}})},handleSelectionChange:function(e){this.multipleSelection=e},deleteListMateriel:function(){var t=this,a=this.multipleSelection.map(function(e){return e.materialUnitId});this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.post(i.materialUnitDelete,a,t).then(function(e){200==e.code&&(t.$message({message:"删除成功",type:"success"}),t.refresh())})},function(){})},materielInfo:function(e){this.$router.push({path:"/settings/handleUnit/add/index",query:{name:"edit",materialUnitId:e}})},deleteMaterial:function(t){var a=this,n=[t];this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.post(i.materialUnitDelete,n,a).then(function(e){200==e.code&&(a.$message({message:"删除成功",type:"success"}),a.refresh())})},function(){})},refresh:function(){var t={pageNo:this.pageData.pageNo,pageSize:this.pageData.pageSize,filter:this.filter};e.post(i.materialUnitList,t,this).then(function(e){200==e.code&&(this.materielData=e.result.pmsMaterialUnitVos,this.pageData.pageNo=e.result.pageNo,this.pageData.pageSize=e.result.pageSize,this.pageData.totalCount=e.result.totalCount,this.pageData.totalPage=e.result.totalPage)})}},created:function(){this.refresh()},computed:(0,n.mapState)({user:function(e){return e.user}})}}).call(t,a(3),a(6))},661:function(e,t,a){var i,n;i=a(530);var r=a(689);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=r.render,n.staticRenderFns=r.staticRenderFns,e.exports=i},689:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-layout",{attrs:{crumbs:e.crumbs}},[a("div",{staticClass:"content",slot:"content"},[a("div",{staticClass:"search-bar"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{placeholder:"请输入单位名称/简拼"},domProps:{value:e.filter},on:{input:function(t){e.filter=t}}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table-content"},[a("div",{staticClass:"button-bar"},[a("el-button",{attrs:{type:"orange"},on:{click:e.addMateriel}},[e._v("新增单位")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteListMateriel}},[e._v("删除")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.materielData,height:"440",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",width:"70"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.$index+1+e.pageData.pageSize*(e.pageData.pageNo-1)))])},staticRenderFns:[]}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialUnitName",label:"单位名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialUnitShortName",label:"单位简拼","min-width":"60"}}),e._v(" "),a("el-table-column",{attrs:{context:e._self,label:"操作","min-width":"110"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.materielInfo(e.row.materialUnitId)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.deleteMaterial(e.row.materialUnitId)}}},[e._v("删除")])],1)},staticRenderFns:[]}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageData.pageNo,"page-sizes":[10,20,30,40],"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),a("transition",{on:{leave:e.refresh}},[a("router-view")],1)],1)},staticRenderFns:[]}}});